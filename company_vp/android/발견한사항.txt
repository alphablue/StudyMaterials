
// 문제 1
// telephon manager 에서 기본으로 전화 설정이 되어 있는지 확인 하기 위한 방법

val telecomManager = getSystemService(TELECOM_SERVICE) as TelecomManager
val isAlreadyDefaultDialer = packageName == telecomManager.defaultDialerPackage

-> sdk 29(Q 버전) 이상부터는 roleManager 를 사용하면됨
val roleManager = getSystemService(Context.ROLE_SERVICE) as RoleManager
            roleManager.isRoleAvailable(RoleManager.ROLE_DIALER)
                    .let {
                        if (it) {
                            val isRoleHeld = roleManager.isRoleHeld(RoleManager.ROLE_DIALER)

                            if (isRoleHeld.not()) {
                                roleManager.createRequestRoleIntent(RoleManager.ROLE_DIALER)
                                        .also { dialer ->
                                            activityResultLauncher.launch(dialer)
                                        }
                            }
                        }
                    }


문제
-> 휴대폰 주소록 목록을 가져 오는 방법

// 필터로 가져오는 방법
context.contentResolver.query(
            Uri.withAppendedPath(ContactsContract.Contacts.CONTENT_FILTER_URI, Uri.encode(searchKeyword)),
            arrayOf(CommonDataKinds.Phone.DISPLAY_NAME),
            null,
            null,
            null
        )

// 전체 목록으로 가져오는 방법
context.contentResolver.query(
            ContactsContract.Contacts.CONTENT_URI,
            contactsProjection,
            "${CommonDataKinds.Phone.HAS_PHONE_NUMBER} =?",
            arrayOf("1"),
            sortDisplayName(true)
        )

loadmanager 를 사용 하거나 contentResolver 를 사용 해야함

